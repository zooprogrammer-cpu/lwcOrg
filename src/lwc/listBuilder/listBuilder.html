<template>
    <template if:true={showModal}>
        <section
                role="dialog"
                tabindex="-1"
                aria-labelledby="modal-heading-01"
                aria-modal="true"
                aria-describedby="modal-content-id-1"
                class="slds-modal slds-fade-in-open"
        >
            <div class="slds-modal__container">
                <!-- Header Start -->
                <header class="slds-modal__header">
                    <lightning-button-icon
                            class="slds-modal__close"
                            title="Close"
                            icon-name="utility:close"
                            icon-class="slds-button_icon-inverse"
                            onclick={closeModal}
                    ></lightning-button-icon>

                    <h2 id="id-of-modalheader-h2" class="slds-text-heading_large">
                        Select Accounts
                    </h2>
                    <p class="slds-var-m-top_x-small">Select data from the list</p>
                </header>
                <!-- Header End -->
                <div
                        class="slds-modal__content slds-p-around_medium"
                        id="modal-content-id-1"
                >
                    <template if:true={showSpinner}>
                        <lightning-spinner
                                alternative-text="Loading"
                                variant="brand"
                                size="medium"
                        >
                        </lightning-spinner>
                    </template>
                    <div class="slds-grid slds-grid_vertical">
                        <div class="slds-scrollable slds-grow">
                            <div class="slds-scrollable_none">
                                <table
                                        aria-multiselectable="true"
                                        class="
                    slds-table slds-no-row-hover
                    slds-table_bordered
                    slds-table_fixed-layout
                    slds-table_resizable-cols
                  "
                                        role="grid"
                                >
                                    <thead>
                                    <tr class="slds-line-height_reset">
                                        <th class="" scope="col" style="width: 3.75rem"></th>
                                        <th
                                                aria-label="Name"
                                                aria-sort="none"
                                                class="slds-is-resizable slds-is-sortable"
                                                scope="col"
                                        >
                                            <a
                                                    class="slds-th__action slds-text-link_reset"
                                                    href="javascript:void(0);"
                                                    role="button"
                                                    tabindex="-1"
                                            >
                                                <span class="slds-assistive-text">Sort by: </span>
                                                <div
                                                        class="
                              slds-grid slds-grid_vertical-align-center
                              slds-has-flexi-truncate
                            "
                                                >
                            <span class="slds-truncate" title="Name"
                            >Account Name</span
                            >
                                                    <span
                                                            class="
                                slds-icon_container
                                slds-icon-utility-arrowdown
                              "
                                                    >
                            </span>
                                                </div>
                                            </a>
                                            <div class="slds-resizable">
                                                <input
                                                        type="range"
                                                        aria-label="Name column width"
                                                        class="slds-resizable__input slds-assistive-text"
                                                        id="cell-resize-handle-65"
                                                        max="1000"
                                                        min="20"
                                                        tabindex="-1"
                                                />
                                                <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                          </span>
                                            </div>
                                        </th>
                                        <th
                                                aria-label="Phone"
                                                aria-sort="none"
                                                class="slds-is-resizable slds-is-sortable"
                                                scope="col"
                                        >
                                            <a
                                                    class="slds-th__action slds-text-link_reset"
                                                    href="javascript:void(0);"
                                                    role="button"
                                                    tabindex="-1"
                                            >
                                                <span class="slds-assistive-text">Sort by: </span>
                                                <div
                                                        class="
                              slds-grid slds-grid_vertical-align-center
                              slds-has-flexi-truncate
                            "
                                                >
                            <span class="slds-truncate" title="Phone"
                            >Phone</span
                            >
                                                    <span
                                                            class="
                                slds-icon_container
                                slds-icon-utility-arrowdown
                              "
                                                    >
                            </span>
                                                </div>
                                            </a>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <template for:each={accounts} for:item="acc">
                                        <tr
                                                key={acc.Id}
                                                aria-selected="false"
                                                class="slds-hint-parent"
                                        >
                                            <td class="slds-text-align_right" role="gridcell">
                                                <lightning-input
                                                        type="checkbox-button"
                                                        label="select"
                                                        variant="label-hidden"
                                                        onchange={handleCheck}
                                                        name={acc.Id}
                                                ></lightning-input>
                                            </td>

                                            <td role="gridcell">
                                                <div class="slds-cell-wrap" title="Name">
                                                    {acc.Name}
                                                </div>
                                            </td>
                                            <td role="gridcell">
                                                <div class="slds-cell-wrap" title="Phone">
                                                    {acc.Phone}
                                                </div>
                                            </td>
                                        </tr>
                                    </template>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <footer class="slds-modal__footer">
                    <template if:true={message}>
                        <span class="slds-text-color_error">{message}</span>
                    </template>
                    <lightning-button
                            variant="brand-outline"
                            label="Cancel"
                            onclick={closeModal}
                            title="Cancel"
                            class="slds-var-m-left_x-small"
                    ></lightning-button>
                    <lightning-button
                            variant="brand"
                            label="Next"
                            onclick={applyActions}
                            title="Next"
                            class="slds-var-m-left_x-small"
                    ></lightning-button>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>